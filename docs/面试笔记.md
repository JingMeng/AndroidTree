

## 面试笔记

> 2018/7/31
>
> 美团

选择的岗位是Android技术专家/架构师

面试收获很多，Java基础/Android基础/Android常规知识点基本没有问题，缺失在以下方面：

1. 数据结构/LeetCode
2. Android源码研读，包括AOSP以及流行的开源框架的源码
3. 架构知识和经验，要从项目管理/优化的角度，做一些工作，比如CI的gradle脚本



Hangzhou

>2018/8/6
>
>校友邦

1. App性能优化

港真，以前的两个公司，对App性能都不是很关注，导致对性能优化居然没有概念。总结一下，分为：

* 内存检测 防止Crash和ANR，Monitor（AndroidStudio自带工具）/Leak Canary

* 卡顿优化 

  * 页面层级过深，

    *  xml布局文件优化，使用ConstraintLayout简化布局层次
    *  使用ViewStub延迟加载View
    *  删除控件中的无用属性
  * 绘制性能优化
    * 移除xml中多余的背景
    * 减少过度绘制
    * 自定义View优化，边缘检测，布局超过屏幕边缘不再绘制。使用 [canvas.clipRect()](https://blog.csdn.net/lovexieyuan520/article/details/50698320) 帮助系统识别那些可见的区域，只有在这个区域内才会被绘制。//这个我真真地没有尝试，应该要自己把有效地rect当作参数传递进去吧，不然系统是无法知道要不要绘制的。
  * 刷新优化
    * 减少刷新次数，灵活利用缓存及限时刷新；
    * 缩小刷新区域，局部刷新，避免多余请求；
  * 动画优化
  * 硬件加速？

* 耗电优化

* APK瘦身 Lint工具（代码/布局文件/资源），WebP ，代码混淆

* 启动优化

  *  在进入首页的时候，首页复杂的View渲染以及必须在UI线程执行的业务逻辑，必然拖慢了启动速度。启动闪屏页虽然简单执行快，首页却复杂执行慢，应用启动前轻后重。可以采用分布加载、异步加载、延期加载策略来提高应用启动速。

1. 插件化
2. 组件化